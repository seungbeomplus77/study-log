# 스프링 애노테이션: `@Autowired`와 `@Qualifier`

스프링 프레임워크는 의존성 주입과 빈 관리를 용이하게 하기 위해 다양한 애노테이션을 제공합니다. `@Autowired`와 `@Qualifier`는 그중 가장 널리 사용되는 애노테이션으로, 이 문서에서는 두 애노테이션의 개요, 사용법, 그리고 모범 사례를 정리합니다.

---

## @Autowired

`@Autowired`는 스프링이 의존성을 자동으로 주입할 수 있도록 도와주는 애노테이션입니다. 기본적으로 타입에 따라 빈을 자동으로 연결합니다.

### 사용 위치
- **필드**
- **생성자**
- **셋터 메서드**
- **일반 메서드**

### 예제

#### 1. 필드 주입
```java
@Component
public class UserService {

    @Autowired
    private UserRepository userRepository;

    // 메서드 등...
}
```

#### 2. 생성자 주입
```java
@Component
public class UserService {

    private final UserRepository userRepository;

    @Autowired
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}
```

#### 3. 셋터 주입
```java
@Component
public class UserService {

    private UserRepository userRepository;

    @Autowired
    public void setUserRepository(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}
```

### 주요 특징
- **자동 의존성 주입**: 타입에 따라 자동으로 빈을 주입합니다.
- **선택적 의존성 관리**: `@Autowired(required = false)`를 사용하여 선택적 의존성을 처리할 수 있습니다.
- **스프링 컨텍스트 내 빈만 주입 가능**: 등록되지 않은 빈은 주입할 수 없습니다.

### 자주 발생하는 문제
- **NoUniqueBeanDefinitionException**: 동일한 타입의 빈이 여러 개 있을 때 발생.
- **NoSuchBeanDefinitionException**: 스프링 컨텍스트에 해당 타입의 빈이 없을 때 발생.

---

## @Qualifier

`@Qualifier`는 `@Autowired`와 함께 사용되며, 동일한 타입의 빈이 여러 개일 때 특정 빈을 선택적으로 주입할 수 있도록 도와주는 애노테이션입니다.

### 사용 위치
- **필드**
- **생성자 매개변수**
- **셋터 메서드 매개변수**
- **일반 메서드 매개변수**

### 예제

#### 1. 필드 주입과 함께 사용
```java
@Component
public class UserService {

    @Autowired
    @Qualifier("mysqlRepository")
    private UserRepository userRepository;

}
```

#### 2. 생성자 주입과 함께 사용
```java
@Component
public class UserService {

    private final UserRepository userRepository;

    @Autowired
    public UserService(@Qualifier("mongoRepository") UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}
```

#### 3. 셋터 주입과 함께 사용
```java
@Component
public class UserService {

    private UserRepository userRepository;

    @Autowired
    public void setUserRepository(@Qualifier("mysqlRepository") UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}
```

### 주요 특징
- **빈 이름 지정**: 빈의 이름 또는 별칭을 지정하여 원하는 빈을 주입할 수 있습니다.
- **명확성 제공**: 동일한 타입의 빈이 여러 개일 때 어떤 빈을 사용할지 명확히 정의할 수 있습니다.
---

## @Autowired와 @Qualifier 결합
`@Autowired`는 기본적으로 타입을 기준으로 의존성을 주입하지만, 동일한 타입의 빈이 여러 개일 때는 `@Qualifier`를 사용하여 특정 빈을 지정해야 합니다. 이를 통해 스프링 컨텍스트 내에서 의존성을 명확히 설정할 수 있습니다.

### 결합 예제
```java
@Component
public class UserService {

    private final UserRepository userRepository;

    @Autowired
    public UserService(@Qualifier("mongoRepository") UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}
```

---

## 모범 사례
1. **생성자 주입 권장**: 생성자 주입은 필드 주입보다 테스트 및 유지보수에 유리합니다.
2. **빈 이름 명확화**: `@Qualifier`를 사용할 때 의미 있는 이름을 사용하여 가독성을 높입니다.
3. **의존성 최소화**: 필요한 의존성만 주입하고 불필요한 빈 주입을 피합니다.
4. **선택적 의존성 관리**: 선택적 의존성이 필요한 경우 `required = false`를 설정합니다.

---

## 결론
`@Autowired`와 `@Qualifier`는 스프링 애플리케이션에서 의존성 주입을 효과적으로 관리하기 위한 핵심 도구입니다. 두 애노테이션을 적절히 활용하면 코드의 가독성과 유지보수성을 크게 향상시킬 수 있습니다.
